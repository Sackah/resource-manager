<h4>Personal Info</h4>
<p>Update your personal details here</p>
<form (submit)="submitForm($event)" [formGroup]="userDetails">
  <div class="message-container">
    @if (signalValues.success) {
    <div class="success-message">
      SUCCESS: {{ signalValues.success.message }}
    </div>
    <span class="close-btn"> </span>
    } @if (signalValues.error) {
    <div class="error-message">
      {{ signalValues.error.message }}
    </div>
    }
  </div>

  <div class="profile-picture">
    <img [src]="imgUrl" alt="profile picture" />
    <div class="camera-icon">
      <label for="image" class="visibly-hidden">Profile picture</label>
      <input
        type="file"
        id="image"
        name="image"
        (change)="onFileChange($event)"
        accept=".jpg,.jpeg,.png" />
      <img
        src="../../../../../assets/images/user/icon_camera-sharp.svg"
        alt="camera" />
      Upload Picture
    </div>
  </div>

  <div class="d-grid">
    <div>
      <label for="firsName">FIRST NAME</label>
      <input
        id="firsName"
        type="text"
        class="input-settings {{ getNameErrors('firstName') ? 'error' : '' }}"
        placeholder="Enter first name"
        formControlName="firstName" />
      @if(getNameErrors('firstName')){
      <div class="validation-error-message">
        {{ getNameErrors('firstName') }}
      </div>
      }
    </div>

    <div>
      <label for="lastName">LAST NAME</label>
      <input
        id="lastName"
        type="text"
        class="input-settings {{ getNameErrors('lastName') ? 'error' : '' }}"
        placeholder="Enter last name"
        formControlName="lastName" />
      @if(getNameErrors('lastName')){
      <div class="validation-error-message">
        {{ getNameErrors('lastName') }}
      </div>
      }
    </div>

    <div>
      <label for="email">EMAIL</label>
      <input
        id="email"
        type="email"
        class="input-settings {{ getEmailErrors() ? 'error' : '' }}"
        placeholder="something@example.com"
        formControlName="email"
        [disabled]="true" />
      @if(getEmailErrors()){
      <div class="validation-error-message">
        {{ getEmailErrors() }}
      </div>
      }
    </div>

    <div>
      <label for="phoneNumber">PHONE NUMBER</label>
      <input
        id="phoneNumber"
        type="tel"
        class="input-settings {{ getNumberErrors() ? 'error' : '' }}"
        pattern="[0-9]{10}"
        maxlength="10"
        placeholder="Enter phone number"
        formControlName="phoneNumber" />
      @if(getNumberErrors()){
      <div class="validation-error-message">
        {{ getNumberErrors() }}
      </div>
      }
    </div>

    <div>
      <label for="department">DEPARTMENT</label>
      <select
        name="department"
        class="input-settings {{ getDepartmentErrors() ? 'error' : '' }}"
        id="department"
        formControlName="department">
        <!-- <option value="" selected>Select an option...</option>
        <option value="Service Center">Service Center</option>
        <option value="Training Center">Training Center</option> -->
        <option
          *ngFor="let departmentItem of department"
          [value]="departmentItem.name">
          {{ departmentItem.name }}
        </option>
      </select>
      @if(getDepartmentErrors()){
      <div class="validation-error-message">
        {{ getDepartmentErrors() }}
      </div>
      }
    </div>

    <div>
      <label for="specialization">SPECIALIZATION</label>
      <select
        name="specialization"
        class="input-settings {{ getSpecializationErrors() ? 'error' : '' }}"
        id="specialization"
        formControlName="specialization">
        <!-- <option selected>{{ this.user.specializations }}</option> -->
        <!-- <option value="" selected>Update Specialization...</option> -->

        <option
          *ngFor="let specializationItem of specializations"
          [value]="specializationItem.name">
          {{ specializationItem.name }}
        </option>
      </select>
      @if(getSpecializationErrors()) {
      <div class="validation-error-message">
        {{ getSpecializationErrors() }}
      </div>
      }
    </div>

    <!-- <div>
      <label for="addSkill">ADD SKILL</label>
      <input
        id="addSkill"
        type="text"
        class="input-settings {{ getNameErrors('lastName') ? 'error' : '' }}"
        placeholder="Enter skill"
        formControlName="addSkill" />
    </div> -->
  </div>

  <div class="buttons">
    <button type="reset" class="button-settings bg-[#FFFFFF] text-[#022F54]">
      Reset
    </button>
    <button type="submit" class="button-settings bg-[#022F54] text-white">
      Update Profile
    </button>
  </div>
</form>
